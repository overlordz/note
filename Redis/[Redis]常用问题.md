### 1.Redis支持的数据类型？

Redis支持五种数据类型：string（字符串），hash（哈希），list（列表），set（集合）及zset(sorted set：有序集合)

### 2.什么是Redis持久化？Redis有哪几种持久化方式？优缺点是什么？

由于Redis的数据都存放在内存中，如果没有配置持久化，redis重启后数据就全丢失了，于是需要开启redis的持久化功能，将数据保存到磁盘上，当redis重启后，可以从磁盘中恢复数据。

**Redis提供两种持久化方式，RDB和AOF；与RDB不同，AOF可以完整的记录整个数据库，而不像RDB只是数据库某一时刻的快照;**

##### 1、RDB

(bgsave命令执行过程中，只有fork子进程时会阻塞服务器；而对于save命令，整个过程都会阻塞服务器；因此save已基本被废弃，线上环境要杜绝save的使用 )
格式：save n m
RDB是一个**紧凑压缩的二进制文件** ，表示在n秒内，如果redis发生了M次的修改，则redis的数据会被存储到内存中。不难看出这是一个周期性的持久化

**缺点：**

（1）因为是周期性的，那么当系统一旦在定时持久化之前出现宕机现象，此前没有来得及写入磁盘的数据都将丢失。

**优点：**

（1）对 redis 对外提供的读写服务，影响非常小，可以让 redis 保持高性能，

（2） 相对于 AOF 持久化机制来说，直接基于 RDB 数据文件来重启和恢复 redis 进程，更加快速。

##### 2、AOF

持久化**以日志的形式记录**服务器所处理的每一个写、删除操作，查询操作不会记录，以文本的方式记录，可以打开文件看到详细的操作记录。 在恢复数据时，可以直接读取该文件进行数据恢复

Redis中提供了3中同步策略，即每秒同步、每修改同步和不同步。事实上，每秒同步也是异步完成的，其效率也是非常高的，所差的是一旦系统出现宕机现象，那么这一秒钟之内修改的数据将会丢失。而每修改同步，我们可以将其视为同步持久化，即每次发生的数据变化都会被立即记录到磁盘中。可以预见，这种方式在效率上是最低的。

**缺点：**（1）由于AOF一般每秒都在存储，可能对于相同数量的数据集而言，AOF文件通常要大于RDB文件。RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快

**优点：**（1）保存的数据额更加完整，能够更好的通过文件完成数据的重建

**AOF更加倾向于数据的完整性，而RDB系统的性能会比AOF好一点**



redis 支持同时开启开启两种持久化方式，我们可以综合使用 AOF 和 RDB 两种持久化机制，用AOF 来保证数据不丢失，作为数据恢复的第一选择; 用 RDB 来做不同程度的冷备，在 AOF 文件都丢失或损坏不可用的时候，还可以使用 RDB 来进行快速的数据恢复。



### 3.Redis 有哪些架构模式？讲讲各自的特点

### 4.使用过Redis分布式锁么，它是怎么实现的？

### 5.使用过Redis做异步队列么，你是怎么用的？有什么缺点？

### 6.什么是缓存穿透？如何避免？什么是缓存雪崩？何如避免？

### 7.Redis常用命令

### 8.为什么Redis 单线程却能支撑高并发？

### 9.说说Redis的内存淘汰策略

### 10.Redis的并发竞争问题如何解决?