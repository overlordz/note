# Vim 常用命令总结



`vim` 是 `vi` 的升级版，被誉为编辑器之神。

`vim` 分三种模式： **一般模式** ，**编辑模式** ，**命令模式**。

模式切换用 `esc` 键，比如按 `i` 进入编辑模式，编辑成功之后按 `esc` 键退回一般模式，按 `shift + :` 进入命令模式。

## vim 常用命令速查图

![command](../../assets/linux/vim/command.png)

## vim 键盘对应位

![command](../../assets/linux/vim/keyboard.png)



#### 一般模式常用操作：

**选择文本** 

| 命令     | 描述                                                         |
| -------- | ------------------------------------------------------------ |
| v        | 从光标当前位置开始，光标所经过的地方会被选中，再按一下v结束。 |
| V        | 从光标当前行开始，光标经过的行都会被选中，再按一下Ｖ结束。   |
| Ctrl + v | 从光标当前位置开始，选中光标起点和终点所构成的矩形区域，再按一下Ｃtrl + v结束。 |
| ggVG     | 选中全部的文本， 其中gg为跳到行首，V选中整行，G末尾          |



**复制文本**

| 命令 | 描述               |
| ---- | ------------------ |
| y    | 复制               |
| yw   | 复制一个word       |
| y2w  | 复制两个word       |
| yy   | 复制一整行         |
| Y    | 复制一整行         |
| y$   | 复制当前光标至行尾 |
| ggyG | 复制全部           |



**删除文本**

| 命令  | 描述                                   |
| ----- | -------------------------------------- |
| x     | 删除当前光标下的字符                   |
| X     | 删除当前光标之前的字符                 |
| {n}dd | 删除(n)一整行内容                      |
| D\|d$ | 删除自当前光标至行尾的内容             |
| J     | (大写)两行合并为一行(换行符被删除)           |
| db    | 删除自当前光标至前一个word的开始       |
| diw   | 删除当前光标所在的word(不包括空白字符) |
| daw   | 删除当前光标所在的word(包括空白字符)   |
| dG    | 删除当前行至文件尾的内容               |
| dgg   | 删除当前行至文件头的内容               |


**粘贴文本**

| 命令  | 描述                                   |
| ----- | -------------------------------------- |
| p    | （小写）光标下一行粘贴                   |
| P    | (大写)光标上一行粘贴                 |


**移动**

| 命令  | 描述                                   |
| ----- | -------------------------------------- |
| {n}j   | (小写)光标向下移动{n}           |
| {n}k   | (小写)光标向上移动{n}           |
| {n}h   | (小写)光标向左移动{n}           |
| {n}l   | (小写)光标向右移动{n}           |
| u  | 撤消         |
| CTRL+r | 撤消的撤消（针对u使用） |
| i | 在当前光标之前插入文本 |
| a | 在当前光标之后插入文本 |
| o | (小写)在当前行的下面另起一行 |
| O | (大写)在当前行的上面另起一行 |
| b | 将光标移动到上个字的第一个字母 |
| {n}w | 将光标移动到下一{n}个word的首字符 |
| {n}e | 将光标移动到下一个word的最后一个字符 |
| ge | 将光标移动到前一个word的最后一个字符上 |
| $ | 将光标移动到当前行行尾 |
| {n}$ | 移动到下{n}行的行尾 |
| ^ | 将光标移动到当前行的第一个非空白字符上 |
| 0 | (数字0)把光标移动到当前行的第一个字符上 |
| G | 把光标定位到最后一行上 |
| gg | 把光标跳转到第一行 |
| {n}g | 把光标置于第{n}行上 |
| {n}% | 把光标定位在文件的总行数的百分%上 |
| H | 移至视窗的第一行 |
| M | 移至视窗的中间那行 |
| L | 移至视窗的最后一行 |

**视窗移动**

| 命令  | 描述                                   |
| ----- | -------------------------------------- |
| CTRL+ U | 显示文本的窗口向上滚动了半屏       |
| CTRL+ D  | 将窗口向下移动半屏           |
| CTRL+ E  | 一次向上滚动一行           |
| CTRL+ Y  | 一次向下滚动一行           |
| CTRL+ F  | 向前滚动一整屏         |
| CTRL+ B  | 向后滚动一整屏 |
| zz | 把当前行置为屏幕正中央 |
| zt | 把当前行置于屏幕顶端 |
| zb | 把当前行置于屏幕底端 |



#### 命令模式常用操作：


| 命令  | 描述                                   |
| ----- | -------------------------------------- |
| q | 退出       |
| q! | 强制退出  |
| w  | 保存           |
| wq \| x | 保存退出 |
| wq!  | 强制保存退出  |
| set nu  | 显示行号   |
| set nonu  | 隐藏行号   |
| set hlsearch  | 设置搜索高亮   |
| set nohlsearch  | 取消搜索高亮   |


**查找与替换**

| 命令  | 描述                                   |
| ----- | -------------------------------------- |
| ?关键字  | 往游标之前寻找该字串   |
| /关键字  | 往游标之后寻找该字串   |
| n | 往下继续寻找下一个相同的字串 |
| N | 往上继续寻找下一个相同的字串 |
| % | 查找“(”，“)”，“{”，“}”的配对符 |
| s | 搜寻某行列范围 |
| g | 搜寻整个编辑缓冲区的资料 |
| 1,$s/old/new/g | 将文件中所有的『old』改成『new』 |
| 10,20s/^/ / | 将第10行至第20行资料的最前面插入5个空白 |

**删除、复制及搬移**

| 命令  | 描述                                   |
| ----- | -------------------------------------- |
| :10,20d | 删除第10行至第20行的数据 |
| :10d | 删除第10行的资料 |
| %d | 删除所有内容 |
| :10,20co30 | 将第10行至第20行的数据复制至第30行之后 |
| :10,20mo30 | 将第10行至第20行的数据搬移至第30行之后。 |




参考资历：  [点击跳转](https://www.cnblogs.com/yangjig/p/6014198.html)

